(this["webpackJsonpwebsite-project"]=this["webpackJsonpwebsite-project"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),s=n.n(i),c=(n(104),n(24)),u=n(12),o=n(14),l=n(52),d=n(51),h=(n(105),n(82)),j=n(4);function v(e){for(var t=[],n=0,a=0;a<e.length;a++)n+=e[a],t[a]=n;return t}var b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(h.Line,{data:(e=this.props.data,t=this.props.dates,{labels:t,datasets:[{label:"Total distance (km)",data:v(e),fill:!0,lineTension:0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]}),options:{maintainAspectRatio:!1}});var e,t}}]),n}(a.Component),g=function(){function e(){Object(u.a)(this,e),this.entries=[],this.it=0}return Object(o.a)(e,[{key:"addDataEntry",value:function(e,t){this.entries.push(new f(e,t))}},{key:"getEarliestDate",value:function(){for(var e=new Date,t=Number(e),n=0;n<this.entries.length;n++){var a=Number(new Date(this.entries[n].date));a<t&&(t=a,e=this.entries[n].date)}return new Date(e)}},{key:"getLatestDate",value:function(){for(var e=new Date,t=Number(e),n=0;n<this.entries.length;n++){var a=Number(new Date(this.entries[n].date));a>t&&(t=a,e=this.entries[n].date)}return new Date(e)}},{key:"getDates",value:function(){for(var e=[],t=this.getEarliestDate(),n=this.getLatestDate(),a=this.getDaysUntil(t,n)+3,r=0;r<a;r++){var i=new Date(t);i.setDate(i.getDate()+r-1);var s=i.toISOString().substring(0,10);e.push(s)}return e}},{key:"getAdditionOnDate",value:function(e){for(var t=0,n=0;n<this.entries.length;n++)this.entries[n].date===e&&(t+=this.entries[n].value);return t}},{key:"getDateLabel",value:function(e){return e}},{key:"getDaysUntil",value:function(e,t){var n=t.getTime()-e.getTime();return Math.ceil(n/864e5)}}]),e}(),f=function e(t,n){Object(u.a)(this,e),this.value=t,this.date=n},m=function e(t,n){Object(u.a)(this,e),this.distance=t,this.photo=n},O=function(){function e(t){Object(u.a)(this,e),this.date=t,this.exerciseEntries=[]}return Object(o.a)(e,[{key:"addExerciseEntry",value:function(e,t){this.exerciseEntries.push(new m(e,t))}},{key:"setDistance",value:function(e,t){e<this.exerciseEntries.length&&(this.exerciseEntries[e].distance=t)}},{key:"removeEntry",value:function(e){e<this.exerciseEntries.length&&this.exerciseEntries.splice(e,1)}},{key:"getDistances",value:function(){for(var e=[],t=0;t<this.exerciseEntries.length;t++)e.push(this.exerciseEntries[t].distance);return e}}]),e}(),x=function(){function e(t){Object(u.a)(this,e),this.name=t,this.dateEntries=[]}return Object(o.a)(e,[{key:"getDistancesOnDate",value:function(e){var t=this.getDateEntry(e);return null!==t?t.getDistances():[]}},{key:"addEntry",value:function(e){var t=this.getDateEntry(e);null===t&&(t=new O(e),this.dateEntries.push(t)),t.addExerciseEntry(0,"")}},{key:"removeEntry",value:function(e,t){var n=this.getDateEntry(e);null!==n&&n.removeEntry(t)}},{key:"setDistance",value:function(e,t,n){var a=this.getDateEntry(e);if(null!==a)return a.setDistance(t,n)}},{key:"getDateEntry",value:function(e){for(var t=0;t<this.dateEntries.length;t++)if(this.dateEntries[t].date===e)return this.dateEntries[t];return null}}]),e}(),p=function(){function e(){Object(u.a)(this,e),this.users=[new x("Joris"),new x("Minyu"),new x("New User")]}return Object(o.a)(e,[{key:"getUser",value:function(e){for(var t=0;t<this.users.length;t++)if(this.users[t].name===e)return this.users[t];return null}},{key:"getUserNames",value:function(){for(var e=[],t=0;t<this.users.length;t++)e.push(this.users[t].name);return e}}]),e}(),D=n(252),y=n(253),E=n(250),k=n(240),w=n(246),N=Object(k.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},default:{margin:e.spacing(3,0,1,0)},section1:{margin:e.spacing(3,2)},section3:{margin:e.spacing(3,1,1)}}}));function C(e){var t=N();return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsxs)("div",{className:t.section1,children:[Object(j.jsx)("div",{className:t.default,children:Object(j.jsx)(D.a,{children:"Select the active user"})}),Object(j.jsx)(E.a,{style:{width:160},onChange:function(t){e.processUserSelect(t.target.value)},children:e.items.map((function(e,t){return Object(j.jsx)(y.a,{value:e,children:e})}))})]}),Object(j.jsx)(w.a,{variant:"middle"})]})}var S=n(207),U=n(251),I=n(248),A=n(247);var W=function(e){return Object(j.jsxs)("div",{className:"DataInputStyle",children:[Object(j.jsx)(S.a,{color:"textSecondary",variant:"body2",children:"Add entries for the selected date"}),Object(j.jsxs)(A.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(A.a,{item:!0,xs:!0,children:Object(j.jsx)(U.a,{type:"date",defaultValue:e.activeDate,onChange:function(t){e.processDateChange(t.target.value)}})}),Object(j.jsx)(A.a,{item:!0,children:Object(j.jsx)(I.a,{color:"primary",style:{maxWidth:"100px",maxHeight:"30px",minWidth:"100px",minHeight:"30px"},variant:"contained",onClick:e.addEntry,children:"Add"})})]})]})},L=n(249);var H=function(e){var t=Object(a.useState)(e.distance),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(j.jsx)("div",{className:"DataEntryStyle",children:Object(j.jsxs)(A.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(A.a,{item:!0,xs:!0,children:Object(j.jsx)(U.a,{label:"Distance",InputProps:{endAdornment:Object(j.jsx)(L.a,{position:"start",children:"km"})},value:r,onChange:function(t){i(t.target.value),e.confirmInput(e.index,t.target.value)}})}),Object(j.jsx)(A.a,{item:!0,children:Object(j.jsx)(I.a,{style:{maxWidth:"30px",maxHeight:"30px",minWidth:"30px",minHeight:"30px"},color:"secondary",variant:"contained",onClick:function(t){e.removeEntry(e.index)},children:"X"})})]})})},T=Object(k.a)((function(e){return{root:{width:"100%",maxWidth:500,backgroundColor:e.palette.background.paper},default:{margin:e.spacing(3,0,1,0),backgroundColor:e.palette.common.white},sectionColumnRight:{width:"50%",float:"right",margin:e.spacing(3,2),backgroundColor:"lightGray"},section1:{margin:e.spacing(2,2)},section3:{margin:e.spacing(3,1,1)}}}));function J(e){var t=T();function n(t,n){var a=Number(n);isNaN(a)||(e.user.setDistance(e.activeDate,t,a),e.updateData())}function a(t){e.user.removeEntry(e.activeDate,t),e.setUserEntries(e.user.getDistancesOnDate(e.activeDate)),e.updateData()}return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)("div",{className:t.section1,children:Object(j.jsxs)(S.a,{color:"textSecondary",variant:"body2",children:["Entry overview for ",e.user.name,":"]})}),Object(j.jsx)("div",{className:"AreaInputNew",children:Object(j.jsxs)("div",{className:"UserEntriesContainer",children:[Object(j.jsx)(W,{addEntry:function(){e.user.addEntry(e.activeDate),e.setUserEntries(e.user.getDistancesOnDate(e.activeDate))},activeDate:e.activeDate,processDateChange:function(t){e.setActiveDate(t),e.setUserEntries(e.user.getDistancesOnDate(t))}}),0===e.userEntries.length&&Object(j.jsx)("div",{className:"DataEntryStyle",children:Object(j.jsxs)(S.a,{color:"primary",variant:"body2",children:["No entries yet for ",e.user.name," on ",e.activeDate]})}),e.userEntries.map((function(t,r){return Object(j.jsx)(H,{name:e.user.name,confirmInput:n,removeEntry:a,distance:t,index:r})}))]})})]})}var M=new p;a.Component;var G=function(){var e=Object(a.useState)([0]),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([""]),s=Object(c.a)(i,2),u=s[0],o=s[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),h=d[0],v=d[1],f=Object(a.useState)([]),m=Object(c.a)(f,2),O=m[0],x=m[1],p=Object(a.useState)((new Date).toISOString().substring(0,10)),D=Object(c.a)(p,2),y=D[0],E=D[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"UserContainer",children:[Object(j.jsx)("div",{className:"PersonEntry",children:Object(j.jsx)(C,{items:M.getUserNames(),processUserSelect:function(e){v(e);var t=M.getUser(e);null!==t&&x(t.getDistancesOnDate(y))}})}),h.length>0&&Object(j.jsx)("div",{children:Object(j.jsx)(J,{user:M.getUser(h),userEntries:O,setUserEntries:x,activeDate:y,setActiveDate:E,updateData:function(){for(var e=new g,t=0;t<M.users.length;t++)for(var n=M.users[t],a=0;a<n.dateEntries.length;a++)for(var i=n.dateEntries[a],s=i.date,c=0;c<i.exerciseEntries.length;c++)e.addDataEntry(i.exerciseEntries[c].distance,s);for(var u=e.getDates(),l=[],d=0;d<u.length;d++)l[d]=e.getAdditionOnDate(u[d]);for(var h=0;h<u.length;h++)u[h]=e.getDateLabel(u[h]);r(l),o(u)}})})]}),Object(j.jsx)("div",{className:"GraphContainer",children:Object(j.jsx)(b,{data:n,dates:u})})]})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.3ab03862.chunk.js.map